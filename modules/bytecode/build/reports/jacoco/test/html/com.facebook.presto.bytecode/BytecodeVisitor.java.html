<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BytecodeVisitor.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">bytecode</a> &gt; <a href="index.source.html" class="el_package">com.facebook.presto.bytecode</a> &gt; <span class="el_source">BytecodeVisitor.java</span></div><h1>BytecodeVisitor.java</h1><pre class="source lang-java linenums">/*
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.facebook.presto.bytecode;

import com.facebook.presto.bytecode.control.DoWhileLoop;
import com.facebook.presto.bytecode.control.FlowControl;
import com.facebook.presto.bytecode.control.ForLoop;
import com.facebook.presto.bytecode.control.IfStatement;
import com.facebook.presto.bytecode.control.SwitchStatement;
import com.facebook.presto.bytecode.control.TryCatch;
import com.facebook.presto.bytecode.control.WhileLoop;
import com.facebook.presto.bytecode.debug.DebugNode;
import com.facebook.presto.bytecode.debug.LineNumberNode;
import com.facebook.presto.bytecode.debug.LocalVariableNode;
import com.facebook.presto.bytecode.expression.BytecodeExpression;
import com.facebook.presto.bytecode.instruction.Constant;
import com.facebook.presto.bytecode.instruction.Constant.BooleanConstant;
import com.facebook.presto.bytecode.instruction.Constant.BoxedBooleanConstant;
import com.facebook.presto.bytecode.instruction.Constant.BoxedDoubleConstant;
import com.facebook.presto.bytecode.instruction.Constant.BoxedFloatConstant;
import com.facebook.presto.bytecode.instruction.Constant.BoxedIntegerConstant;
import com.facebook.presto.bytecode.instruction.Constant.BoxedLongConstant;
import com.facebook.presto.bytecode.instruction.Constant.ClassConstant;
import com.facebook.presto.bytecode.instruction.Constant.DoubleConstant;
import com.facebook.presto.bytecode.instruction.Constant.FloatConstant;
import com.facebook.presto.bytecode.instruction.Constant.IntConstant;
import com.facebook.presto.bytecode.instruction.Constant.LongConstant;
import com.facebook.presto.bytecode.instruction.Constant.StringConstant;
import com.facebook.presto.bytecode.instruction.FieldInstruction;
import com.facebook.presto.bytecode.instruction.FieldInstruction.GetFieldInstruction;
import com.facebook.presto.bytecode.instruction.FieldInstruction.PutFieldInstruction;
import com.facebook.presto.bytecode.instruction.InstructionNode;
import com.facebook.presto.bytecode.instruction.InvokeInstruction;
import com.facebook.presto.bytecode.instruction.InvokeInstruction.InvokeDynamicInstruction;
import com.facebook.presto.bytecode.instruction.JumpInstruction;
import com.facebook.presto.bytecode.instruction.LabelNode;
import com.facebook.presto.bytecode.instruction.VariableInstruction;
import com.facebook.presto.bytecode.instruction.VariableInstruction.IncrementVariableInstruction;
import com.facebook.presto.bytecode.instruction.VariableInstruction.LoadVariableInstruction;
import com.facebook.presto.bytecode.instruction.VariableInstruction.StoreVariableInstruction;

<span class="fc" id="L53">public class BytecodeVisitor&lt;T&gt;</span>
{
    public T visitClass(ClassDefinition classDefinition)
    {
<span class="nc bnc" id="L57" title="All 2 branches missed.">        for (AnnotationDefinition annotationDefinition : classDefinition.getAnnotations()) {</span>
<span class="nc" id="L58">            visitAnnotation(classDefinition, annotationDefinition);</span>
<span class="nc" id="L59">        }</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">        for (FieldDefinition fieldDefinition : classDefinition.getFields()) {</span>
<span class="nc" id="L61">            visitField(classDefinition, fieldDefinition);</span>
<span class="nc" id="L62">        }</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">        for (MethodDefinition methodDefinition : classDefinition.getMethods()) {</span>
<span class="nc" id="L64">            visitMethod(classDefinition, methodDefinition);</span>
<span class="nc" id="L65">        }</span>
<span class="nc" id="L66">        return null;</span>
    }

    public T visitAnnotation(Object parent, AnnotationDefinition annotationDefinition)
    {
<span class="nc" id="L71">        return null;</span>
    }

    public T visitField(ClassDefinition classDefinition, FieldDefinition fieldDefinition)
    {
<span class="nc bnc" id="L76" title="All 2 branches missed.">        for (AnnotationDefinition annotationDefinition : fieldDefinition.getAnnotations()) {</span>
<span class="nc" id="L77">            visitAnnotation(fieldDefinition, annotationDefinition);</span>
<span class="nc" id="L78">        }</span>
<span class="nc" id="L79">        return null;</span>
    }

    public T visitMethod(ClassDefinition classDefinition, MethodDefinition methodDefinition)
    {
<span class="nc bnc" id="L84" title="All 2 branches missed.">        for (AnnotationDefinition annotationDefinition : methodDefinition.getAnnotations()) {</span>
<span class="nc" id="L85">            visitAnnotation(methodDefinition, annotationDefinition);</span>
<span class="nc" id="L86">        }</span>
<span class="nc" id="L87">        methodDefinition.getBody().accept(null, this);</span>
<span class="nc" id="L88">        return null;</span>
    }

    public T visitNode(BytecodeNode parent, BytecodeNode node)
    {
<span class="nc bnc" id="L93" title="All 2 branches missed.">        for (BytecodeNode child : node.getChildNodes()) {</span>
<span class="nc" id="L94">            child.accept(node, this);</span>
<span class="nc" id="L95">        }</span>
<span class="nc" id="L96">        return null;</span>
    }

    //
    // Comment
    //

    public T visitComment(BytecodeNode parent, Comment node)
    {
<span class="nc" id="L105">        return visitNode(parent, node);</span>
    }

    //
    // Block
    //

    public T visitBlock(BytecodeNode parent, BytecodeBlock block)
    {
<span class="nc" id="L114">        return visitNode(parent, block);</span>
    }

    //
    // Bytecode Expression
    //
    public T visitBytecodeExpression(BytecodeNode parent, BytecodeExpression expression)
    {
<span class="nc" id="L122">        return visitNode(parent, expression);</span>
    }

    //
    // Flow Control
    //

    public T visitFlowControl(BytecodeNode parent, FlowControl flowControl)
    {
<span class="nc" id="L131">        return visitNode(parent, flowControl);</span>
    }

    public T visitTryCatch(BytecodeNode parent, TryCatch tryCatch)
    {
<span class="nc" id="L136">        return visitFlowControl(parent, tryCatch);</span>
    }

    public T visitIf(BytecodeNode parent, IfStatement ifStatement)
    {
<span class="nc" id="L141">        return visitFlowControl(parent, ifStatement);</span>
    }

    public T visitFor(BytecodeNode parent, ForLoop forLoop)
    {
<span class="nc" id="L146">        return visitFlowControl(parent, forLoop);</span>
    }

    public T visitWhile(BytecodeNode parent, WhileLoop whileLoop)
    {
<span class="nc" id="L151">        return visitFlowControl(parent, whileLoop);</span>
    }

    public T visitDoWhile(BytecodeNode parent, DoWhileLoop doWhileLoop)
    {
<span class="nc" id="L156">        return visitFlowControl(parent, doWhileLoop);</span>
    }

    public T visitSwitch(BytecodeNode parent, SwitchStatement switchStatement)
    {
<span class="nc" id="L161">        return visitFlowControl(parent, switchStatement);</span>
    }

    //
    // Instructions
    //

    public T visitInstruction(BytecodeNode parent, InstructionNode node)
    {
<span class="nc" id="L170">        return visitNode(parent, node);</span>
    }

    public T visitLabel(BytecodeNode parent, LabelNode labelNode)
    {
<span class="nc" id="L175">        return visitInstruction(parent, labelNode);</span>
    }

    public T visitJumpInstruction(BytecodeNode parent, JumpInstruction jumpInstruction)
    {
<span class="nc" id="L180">        return visitInstruction(parent, jumpInstruction);</span>
    }

    //
    // Constants
    //

    public T visitConstant(BytecodeNode parent, Constant constant)
    {
<span class="nc" id="L189">        return visitInstruction(parent, constant);</span>
    }

    public T visitBoxedBooleanConstant(BytecodeNode parent, BoxedBooleanConstant boxedBooleanConstant)
    {
<span class="nc" id="L194">        return visitConstant(parent, boxedBooleanConstant);</span>
    }

    public T visitBooleanConstant(BytecodeNode parent, BooleanConstant booleanConstant)
    {
<span class="nc" id="L199">        return visitConstant(parent, booleanConstant);</span>
    }

    public T visitIntConstant(BytecodeNode parent, IntConstant intConstant)
    {
<span class="nc" id="L204">        return visitConstant(parent, intConstant);</span>
    }

    public T visitBoxedIntegerConstant(BytecodeNode parent, BoxedIntegerConstant boxedIntegerConstant)
    {
<span class="nc" id="L209">        return visitConstant(parent, boxedIntegerConstant);</span>
    }

    public T visitFloatConstant(BytecodeNode parent, FloatConstant floatConstant)
    {
<span class="nc" id="L214">        return visitConstant(parent, floatConstant);</span>
    }

    public T visitBoxedFloatConstant(BytecodeNode parent, BoxedFloatConstant boxedFloatConstant)
    {
<span class="nc" id="L219">        return visitConstant(parent, boxedFloatConstant);</span>
    }

    public T visitLongConstant(BytecodeNode parent, LongConstant longConstant)
    {
<span class="nc" id="L224">        return visitConstant(parent, longConstant);</span>
    }

    public T visitBoxedLongConstant(BytecodeNode parent, BoxedLongConstant boxedLongConstant)
    {
<span class="nc" id="L229">        return visitConstant(parent, boxedLongConstant);</span>
    }

    public T visitDoubleConstant(BytecodeNode parent, DoubleConstant doubleConstant)
    {
<span class="nc" id="L234">        return visitConstant(parent, doubleConstant);</span>
    }

    public T visitBoxedDoubleConstant(BytecodeNode parent, BoxedDoubleConstant boxedDoubleConstant)
    {
<span class="nc" id="L239">        return visitConstant(parent, boxedDoubleConstant);</span>
    }

    public T visitStringConstant(BytecodeNode parent, StringConstant stringConstant)
    {
<span class="nc" id="L244">        return visitConstant(parent, stringConstant);</span>
    }

    public T visitClassConstant(BytecodeNode parent, ClassConstant classConstant)
    {
<span class="nc" id="L249">        return visitConstant(parent, classConstant);</span>
    }

    //
    // Local Variable Instructions
    //

    public T visitVariableInstruction(BytecodeNode parent, VariableInstruction variableInstruction)
    {
<span class="nc" id="L258">        return visitInstruction(parent, variableInstruction);</span>
    }

    public T visitLoadVariable(BytecodeNode parent, LoadVariableInstruction loadVariableInstruction)
    {
<span class="nc" id="L263">        return visitVariableInstruction(parent, loadVariableInstruction);</span>
    }

    public T visitStoreVariable(BytecodeNode parent, StoreVariableInstruction storeVariableInstruction)
    {
<span class="nc" id="L268">        return visitVariableInstruction(parent, storeVariableInstruction);</span>
    }

    public T visitIncrementVariable(BytecodeNode parent, IncrementVariableInstruction incrementVariableInstruction)
    {
<span class="nc" id="L273">        return visitVariableInstruction(parent, incrementVariableInstruction);</span>
    }

    //
    // Field Instructions
    //

    public T visitFieldInstruction(BytecodeNode parent, FieldInstruction fieldInstruction)
    {
<span class="nc" id="L282">        return visitInstruction(parent, fieldInstruction);</span>
    }

    public T visitGetField(BytecodeNode parent, GetFieldInstruction getFieldInstruction)
    {
<span class="nc" id="L287">        return visitFieldInstruction(parent, getFieldInstruction);</span>
    }

    public T visitPutField(BytecodeNode parent, PutFieldInstruction putFieldInstruction)
    {
<span class="nc" id="L292">        return visitFieldInstruction(parent, putFieldInstruction);</span>
    }

    //
    // Invoke
    //

    public T visitInvoke(BytecodeNode parent, InvokeInstruction invokeInstruction)
    {
<span class="nc" id="L301">        return visitInstruction(parent, invokeInstruction);</span>
    }

    public T visitInvokeDynamic(BytecodeNode parent, InvokeDynamicInstruction invokeDynamicInstruction)
    {
<span class="nc" id="L306">        return visitInvoke(parent, invokeDynamicInstruction);</span>
    }

    //
    // Debug
    //

    public T visitDebug(BytecodeNode parent, DebugNode debugNode)
    {
<span class="nc" id="L315">        return visitNode(parent, debugNode);</span>
    }

    public T visitLineNumber(BytecodeNode parent, LineNumberNode lineNumberNode)
    {
<span class="nc" id="L320">        return visitDebug(parent, lineNumberNode);</span>
    }

    public T visitLocalVariable(BytecodeNode parent, LocalVariableNode localVariableNode)
    {
<span class="nc" id="L325">        return visitDebug(parent, localVariableNode);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>